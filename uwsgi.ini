[uwsgi]
; uwsgi setup
master = true
auto-procname = true
; space in following line is important
procname-prefix = "harvey "
strict = true
vacuum = true
die-on-term = true
need-app = true
single-interpreter = true
enable-threads = true

; stats
stats = /tmp/harvey.stats
memory-report = true

; app setup
uwsgi-socket = 127.0.0.1:5000
module = wsgi:APP

; tuning
max-worker-lifetime = 300
socket-timeout = 30
; default 4096 * 6
buffer-size = 24576

# crons
cron = 0 0 -1 -1 -1 venv/bin/python scripts/remove_old_logs.py

; logging
; `daemonize` runs Harvey in the background
daemonize = $(HOME)/harvey/logs/uwsgi.log
; 2mb
log-maxsize = 2000000
logdate = true
